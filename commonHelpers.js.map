{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst itemExercises = document.querySelectorAll('.item-exercises');\nconst filterButtons = document.querySelector('.filter-buttons');\nconst exerciseFiltersList = document.querySelector('.exercise-filters-list');\nconst pagination = document.querySelector('.pagination');\nconst BASE_URL = 'https://energyflow.b.goit.study/api';\nlet filterValueDefault = 'Muscles';\nlet currentPage = 1;\nlet screenWidth = window.innerWidth;\nlet currentLimit = 0;\nconst paginationPageBtn = document.querySelector('.pagination-btn');\n\nfilterButtons.addEventListener('click', filterBtnClick);\nif (screenWidth <= 375) {\n  currentLimit = 8;\n} else if (screenWidth <= 768) {\n  currentLimit = 12;\n} else {\n  currentLimit = 12;\n}\n\nasync function getExercises() {\n  try {\n    const response = await axios.get(`${BASE_URL}/filters`, {\n      params: {\n        filter: filterValueDefault,\n        page: currentPage,\n        limit: currentLimit,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function filterBtnClick(event) {\n  event.preventDefault();\n\n  currentPage = 1;\n  const filterValue = event.target;\n  const qwer = filterValue.dataset.filter;\n  filterValueDefault = qwer;\n  exerciseFiltersList.innerHTML = '';\n  Array.from(event.currentTarget.children).map(item => {\n    if (item.textContent !== event.target.textContent) {\n      item.classList.remove('button-is-active');\n    } else {\n      event.target.classList.add('button-is-active');\n    }\n  });\n  if (event.target.tagName !== 'BUTTON') {\n    return;\n  }\n  try {\n    getExercises(qwer).then(data => {\n      const { results, totalPages, page } = data;\n      markupExercises(results);\n      if (1) {\n        const pag = paginationPages(page, totalPages);\n        pagination.innerHTML = pag;\n      } else {\n        pagination.innerHTML = '';\n      }\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction markupExercises(results) {\n  const markup = results\n    .map(\n      ({ name, filter, imgUrl }) => ` <li class=\"filter-list\" data-filter>\n        <img class=\"img-exercises\" src=\"${imgUrl}\" alt=\"${filter}\">\n        <div class=\"filter-text\">\n          <p class=\"filter-exercises\">${name}</p>\n          <p class=\"filter-name\">${filter}</p>\n        </div>\n      </li>`\n    )\n    .join('');\n  exerciseFiltersList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction paginationPages(page, totalPages) {\n  let paginationHtml = '';\n\n  for (let i = 1; i <= totalPages; i += 1) {\n    paginationHtml += `<button class=\"pagination-btn pagination-btn-is-active\" type=\"button\">${i}</button>`;\n  }\n  return paginationHtml;\n}\n\nasync function onPaginationPages(e) {\n  currentPage = e.target.textContent;\n  Array.from(e.currentTarget.children).map(item => {\n    if (item.textContent !== currentPage) {\n      item.classList.remove('pagination-btn-is-active');\n    } else {\n      e.target.classList.add('pagination-btn-is-active');\n    }\n  });\n  exerciseFiltersList.innerHTML = '';\n  try {\n    const { results, page, totalPages } = await getExercises();\n    if (page === totalPages) {\n      return;\n    }\n\n    markupExercises(results);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\npagination.addEventListener('click', onPaginationPages);\n// sasdswe2erfev\n\nfetchDefaultApiUrl();\nasync function fetchDefaultApiUrl() {\n  try {\n    const response = await getExercises().then(data => {\n      const { results, totalPages, page } = data;\n      if (results && results.length > 0) {\n        markupExercises(results);\n        const pag = paginationPages(page, totalPages);\n        pagination.innerHTML = pag;\n      } else {\n        console.error('No exercises found.');\n      }\n    });\n  } catch (error) {\n    console.error('Error fetching exercises:', error);\n  }\n}\n"],"names":["filterButtons","exerciseFiltersList","pagination","BASE_URL","filterValueDefault","currentPage","screenWidth","currentLimit","filterBtnClick","getExercises","axios","error","event","qwer","item","data","results","totalPages","page","markupExercises","pag","paginationPages","markup","name","filter","imgUrl","paginationHtml","i","onPaginationPages","e","fetchDefaultApiUrl","response"],"mappings":"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"}